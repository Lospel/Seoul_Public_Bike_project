<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorator="~{layout/layout}">

<th:block th:replace="/layout/fragments/head :: headFragment(title='대여소')"></th:block>
<!-- 사이드바 -->
<th:block th:replace="/layout/fragments/sidebar :: sidebarFragment(current='대여소')"></th:block>

<th:block layout:fragment="content" class="container my-3">
  
    <form th:action="@{/user/rental_office}" method="GET">
      <!-- 상단 검색창 -->
      <div class="container-fluid d-grid gap-3 align-items-center" style="grid-template-columns: 1fr 2fr; ">

        <div class="d-flex align-items-center">
          <form class="w-100 me-3" role="search">
            <input type="text" id="keyword" name="keyword" class="form-control" placeholder="대여소 검색" aria-label="Search">
          </form>
          <input type="button" id="searchBtn" name="searchBtn" value="검색" />
        </div>
      </div>
      <div id="map" style="width:100%; height:800px;"></div>

    </form>
    <th:block th:replace="/layout/fragments/script :: scriptFragment"></th:block>
</th:block>
<script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=bh68qgrdxn"></script>

<script type="text/javascript">

  $(function() {
    
    initMap();
    
  });
  
  
  function initMap() { 
    
    var areaArr = new Array();  // 지역을 담는 배열 ( 지역명/위도경도 )
    areaArr.push(
        /*지역구 이름*/			/*위도*/					/*경도*/				
       {location : '강남' , lat : '37.4959854' , lng : '127.0664091'},  // 강남구 중심좌표
       {location : '강동' , lat : '37.5492077' , lng : '127.1464824'},  // 강동구 중심좌표
       {location : '강북' , lat : '37.6469954' , lng : '127.0147158'},  // 강북구 중심좌표
       {location : '강서' , lat : '37.5657617' , lng : '126.8226561'},  // 강서구 중심좌표
       {location : '관악' , lat : '37.4603732' , lng : '126.9536086'},  // 관악구 중심좌표
       {location : '광진' , lat : '37.5574120' , lng : '127.0796211'},  // 광진구 중심좌표
       {location : '구로' , lat : '37.4954856' , lng : '126.858121' },  // 구로구 중심좌표
       {location : '금천' , lat : '37.4600969' , lng : '126.9001546'},  // 금천구 중심좌표
       {location : '노원' , lat : '37.6377533' , lng : '127.0754623'},  // 노원구 중심좌표
       {location : '도봉' , lat : '37.6658609' , lng : '127.0317674'},  // 도봉구 중심좌표
       {location : '동대문' , lat : '37.5838012' , lng : '127.0507003'},  // 동대문구 중심좌표
       {location : '동작' , lat : '37.4965037' , lng : '126.9443073'},  // 동작구 중심좌표
       {location : '마포' , lat : '37.5676507' , lng : '126.8854549'},  // 마포구 중심좌표
       {location : '서대문' , lat : '37.5820369' , lng : '126.9356665'},  // 서대문구 중심좌표
       {location : '서초' , lat : '37.4769528' , lng : '127.0378103'},  // 서초구 중심좌표
       {location : '성동' , lat : '37.5506753' , lng : '127.0409622'},  // 성동구 중심좌표
       {location : '성북' , lat : '37.606991'  , lng : '127.0232185'},  // 성북구 중심좌표
       {location : '송파' , lat : '37.5177941' , lng : '127.1127078'},  // 송파구 중심좌표
       {location : '양천' , lat : '37.5270616' , lng : '126.8561534'},  // 양천구 중심좌표
       {location : '영등포' , lat : '37.520641'  , lng : '126.9139242'},  // 영등포구 중심좌표
       {location : '용산' , lat : '37.5311008' , lng : '126.9810742'},  // 용산구 중심좌표
       {location : '은평' , lat : '37.6176125' , lng : '126.9227004'},  // 은평구 중심좌표
       {location : '종로' , lat : '37.5990998' , lng : '126.9861493'},  // 종로구 중심좌표
       {location : '중구' , lat : '37.5579452' , lng : '126.9941904'},  // 중구 중심좌표
       {location : '중랑구' , lat : '37.598031'  , lng : '127.092931' }   // 중랑구 중심좌표
    );
    
    
    
    let markers = new Array(); // 마커 정보를 담는 배열
    let infoWindows = new Array(); // 정보창을 담는 배열
    
    var position = new naver.maps.LatLng(37.5112, 127.0981);

  var map = new naver.maps.Map('map', {
    center: position,
    zoom: 17
  });

  var markerOptions = {
    position: position.destinationPoint(0, 20),
    map: map,
    icon: {
      url: 'https://navermaps.github.io/maps.js.ncp/docs/img/example/sally.png',
      size: new naver.maps.Size(50, 52),
      origin: new naver.maps.Point(0, 0),
      anchor: new naver.maps.Point(25, 26)
    }
  };

  var marker = new naver.maps.Marker(markerOptions);
    
    
    
    
    for (var i = 0; i < areaArr.length; i++) {
      // 지역을 담은 배열의 길이만큼 for문으로 마커와 정보창을 채워주자 !
  
        var marker = new naver.maps.Marker({
            map: map,
            title: areaArr[i].location, // 지역구 이름 
            position: new naver.maps.LatLng(areaArr[i].lat , areaArr[i].lng) // 지역구의 위도 경도 넣기 
        });
      }
  }
</script>
</html>