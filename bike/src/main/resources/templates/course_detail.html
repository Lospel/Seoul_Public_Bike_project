<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
    <th:block th:replace="layout/fragments/head :: headFragment(title='Create a Daily Course')"></th:block>
      <!-- 사이드바 -->
    <th:block th:replace="layout/fragments/sidebar :: sidebarFragment(current='Create a Daily Course')"></th:block>
    <th:block layout:fragment="content" class="container my-3">
        <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=75ojy30gbk"></script>
        
        <h2>Hello</h2>
        <tr class="text-center" th:each="item : ${detail}">
            <td th:text="${item.name1}">no1</td>
            <td th:text="${item.name2} ">LCD</td>
            <td th:text="${item.name3} ">QR</td>
            <td th:text="${item.name4} ">QR</td>
            <td th:text="${item.name5} ">QR</td>
        </tr>
        <br>
        <!-- //지도 API 사용 -->
        <div id="map" style="width:100%; height:1100px;"></div>

        <th:block th:replace="layout/fragments/script :: scriptFragment"></th:block>
    </th:block>

<!-- <script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=75ojy30gbk "></script> -->

<script  th:inline="javascript">

$(function() {
        
    initMap();
        
});
    
    
function initMap() { 
         
        /*<![CDATA[*/
        /*[# th:each="tmp : ${offices}"]*/
        noti(/*[[${tmp.name1}]]*/, /*[[${tmp.lat1}]]*/ , /*[[${tmp.lng1}]]*/, /*[[${tmp.name2}]]*/ , /*[[${tmp.lat2}]]*/ , /*[[${tmp.lng2}]]*/, /*[[${tmp.name3}]]*/ , /*[[${tmp.lat3}]]*/ , /*[[${tmp.lng3}]]*/, /*[[${tmp.name4}]]*/ , /*[[${tmp.lat4}]]*/ , /*[[${tmp.lng4}]]*/, /*[[${tmp.name5}]]*/ , /*[[${tmp.lat5}]]*/ , /*[[${tmp.lng5}]]*/)
        /*[/]*/
        /*]]>*/
        function noti(name1, lat1, lng1, name2, lat2, lng2, name3, lat3, lng3, name4, lat4, lng4, name5, lat5, lng5){
            var areaArr = new Array();  // 지역을 담는 배열 ( 지역명/위도경도 )
            areaArr.push(
                
            {location : name1 , lat : lat1 , lng : lng1},  
            {location : name2 , lat : lat2 , lng : lng2},  
            {location : name3 , lat : lat3 , lng : lng3},  
            {location : name4 , lat : lat4 , lng : lng4},  
            {location : name5 , lat : lat5 , lng : lng5} 
            
            );
            console.log(areaArr[0].lacation);
        
            //본인 위치 표시
            var position = new naver.maps.LatLng(37.52841568, 126.9139175);

            var map = new naver.maps.Map('map', {
            center: position,
            zoom: 15
            });
            
            for (var i = 0; i < areaArr.length; i++) {
                // 지역을 담은 배열의 길이만큼 for문으로 마커와 정보창을 채워주자 !

                var marker = new naver.maps.Marker({
                    map: map,
                    title: areaArr[i].location, // 지역구 이름 
                    position: new naver.maps.LatLng(areaArr[i].lat , areaArr[i].lng) // 지역구의 위도 경도 넣기 
                });


            }
        }
        
        
}
</script>
</html>